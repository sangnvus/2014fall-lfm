<div>
    <div id="staffId" value="@Session["staffId"].ToString()"></div>

    <div class="table-responsive" id="divHidden">

        <a data-toggle="modal" href="#tblAddStaff">
            <button class="btn btn-primary" id="btnAdd">
                <i class="icon-plus"></i>
                Tính lương
            </button>
        </a>
        <a data-toggle="modal">
            <button class="btn btn-primary" id="btnExportExcel" onclick="exportExcel()">
                <i class="icon-plus"></i>
                Xuất file Excel
            </button>
        </a>
        <hr />

        <div style="overflow: auto">
            <div style="float: left" class="form-group">
                <label>Hiển thị tháng tính lương</label>
                <div>
                    <select name="selectTypeService" id="selectMonth" onchange="getSalarybyMonthandYear()" style="width: 100%" class="form-control"></select>
                </div>
            </div>

            <div style="float: left; margin-left: 5%" class="form-group">
                <label>Năm</label>
                <div>
                    <select id="cboYear" name="cboYear" onchange="getSalarybyMonthandYear()" style="width: 100%; cursor: pointer" class="form-control "></select><br />
                </div>
            </div>
        </div>

        <table id="tblSalaryDetail" class="table table-striped table-bordered table-hover" width="100%">
            <thead>
                <tr>
                    <th width="16%">Tên nhân viên</th>
                    <th width="12%">Ngày làm</th>
                    <th width="12%">Ngày nghỉ</th>
                    <th width="12%">Trợ cấp</th>
                    <th width="12%">Thuế</th>
                    <th width="14%">Bảo hiểm</th>
                    <th width="16%">Lương nhận</th>
                    <th width="8%"></th>


                </tr>
            </thead>
        </table>
    </div>
    <div class="row">
        @*bảng thêm nhân viên*@
        <div id="tblAddStaff" class="modal fade" tabindex="-1">
            <div class="modal-dialog" style="width: 100%; max-width: 800px">
                <div class="modal-content">
                    <div class="modal-header no-padding">
                        <div class="table-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                <span class="white">&times;</span>
                            </button>
                            Tính lương
                        </div>
                    </div>
                    <form class="modal-body no-padding" id="addStaffSalaryValidateForm">
                        <div class="col-sm-6">
                            <div class="space"></div>
                            @*thẻ này để hiển thị ảnh*@
                            <div class="form-group">
                                <label>Tên nhân viên</label><span style="color: red"> *</span>
                                <div>
                                    <select id="selectStaffName" name="selectStaffName" style="width: 100%; cursor: pointer"></select><br />

                                </div>
                            </div>
                            <div class="form-group">
                                <label>Ngày Tính lương</label><span style="color: red"> *</span>

                                <div class="input-group input-group-sm">
                                    <input class="form-control date-picker" id="txtStaffDayofbith" name="txtStaffDayofbith" readonly="" type="text" data-date-format="dd/mm/yyyy" style="width: 100%; cursor: pointer; background: none repeat scroll 0 0 #fff !important" />
                                    <span class="input-group-addon">
                                        <i class="icon-calendar bigger-110"></i>
                                    </span>
                                </div>
                                <div id="existCountSalary" style="display: none">
                                    <span style="color: red">Tháng này bạn đã tính lương rồi!</span>
                                </div>
                                <div id="invalidateCountSalary" style="display: none">
                                    <span style="color: red">Bạn chỉ được chọn tháng hiện tại!</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="space"></div>
                            <div class="form-group" id="officeNewDiv">
                                <label>Trợ cấp</label><span style="color: red"> *</span>
                                <div>
                                    <select class="chosen-select" name="cboBenefit" id="cboBenefit" style="cursor: pointer" multiple="">
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group" id="officeNewDiv">
                                <label>Bảo hiểm</label><span style="color: red"> *</span>
                                <div>
                                    <select class="chosen-select" name="cboAssurance" id="cboAssurance" style="cursor: pointer" multiple="">
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="modal-footer no-margin-top">
                        </div>
                    </form>
                    <div class="modal-footer no-margin-top">
                        <button class="btn btn-warning pull-left" onclick="clearFieldSalary()" id="btnCloseAdd" style="width: 125px">
                            <i class="icon-refresh"></i>
                            Làm trống
                        </button>
                        <button class="btn btn-success" type="button" data-bb-handler="confirm" id="btnAddNewCase" onclick="addStaffSalary()">
                            <i class="icon-ok"></i>
                            Tính lương
                        </button>
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>
    </div>
    <div id="tblUpdateSalary" class="modal fade" tabindex="-1">
        <div class="modal-dialog" style="width: 90%; max-width: 1000px">
            <div class="modal-content">
                <div class="modal-header no-padding">
                    <div class="table-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            <span class="white">&times;</span>
                        </button>
                        Chi tiết tiền lương nhân viên
                    </div>
                </div>
                @*updateStaffValidateForm*@
                <form class="modal-body no-padding" id="updateStaffSalaryValidateForm">
                    <div class="col-sm-3">
                        <div class="space"></div>

                        <div class="form-group">
                            <label>Tên nhân viên</label><span style="color: red"> *</span>
                            <div>
                                <select id="detailStaffName" name="detailStaffName" style="width: 100%; cursor: pointer" class="form-control editableInput"></select><br />
                                <input type="text" id="salaryId" style="display: none" />
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-group">
                                <label>Ngày tính lương</label><span style="color: red"> *</span>

                                <div class="input-group input-group-sm">
                                    <input class="form-control date-picker editableSelect" id="detailDate" name="dateStaffTimesheet" type="text" data-date-format="dd/mm/yyyy" style="width: 100%; cursor: pointer;" />
                                    <span class="input-group-addon">
                                        <i class="icon-calendar bigger-110"></i>
                                    </span>
                                </div>
                                @*<div id="existUserNameError1" style="display: none">
                                        <span style="color: #D16E6C">Tên đăng nhập đã tồn tại!</span>
                                    </div>*@
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Số người phụ thuộc:</label>
                            <input type="text" id="detailAppendantPeople" maxlength="2" name="txtAppendantPeople" style="width: 100%" class="" disabled /><br />
                        </div>
                        <div class="form-group">
                            <label>Tổng số ngày đi làm</label>
                            <input type="text" id="detailTotalPresent" maxlength="50" style="width: 100%" class="" disabled /><br />
                        </div>
                        <div class="form-group">
                            <label>Lương cơ bản </label>
                            <input type="text" id="detailBaseSalary" maxlength="50" style="width: 100%" class="" disabled /><br />
                        </div>
                        <div class="form-group">
                            <label>Tổng tiền thực nhận</label>
                            <input type="text" id="detailActualSalary" maxlength="50" style="width: 100%" class="" disabled /><br />
                        </div>
                    </div>
                    <div class="col-sm-5">
                        <div class="space"></div>
                        <div class="form-group">
                            <label>Chi tiết bảo hiểm</label><span style="color: red"> *</span>
                            <div>
                                <select class="chosen-select editableInput" name="cboOffice" id="staffAssuranceDetail" multiple="">
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Chi tiết trợ cấp</label><span style="color: red"> *</span>
                            <div>

                                <select class="chosen-select editableInput" name="cboOffice" id="staffBenefitDetail" multiple="">
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>

                        @*<div class="form-group">
                                <label>Ngày nghỉ</label>
                                <input type="text" id="detailAbsent" maxlength="50" style="width: 100%" class="editableInput" disabled /><br />
                            </div>*@

                        <div class="form-group">
                            <label>Chi tiết thuế</label><span style="color: red"> *</span>
                            <div>
                                <select class="chosen-select editableInput" name="cboOffice" id="staffTaxDetail" multiple="">
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Tổng tiền tạm ứng </label>
                            <input type="text" id="detailTotalImprest" maxlength="50" style="width: 100%" class="" disabled /><br />
                        </div>

                        <div class="form-group">
                            <label>Số ngày nghỉ có phép</label>
                            <input type="text" id="detailTotalAbsentAllow" maxlength="50" style="width: 100%" class="" disabled /><br />
                        </div>
                        <div class="form-group">
                            <label>Số ngày nghỉ không phép</label>
                            <input type="text" id="detailTotalAbsentIsallow" maxlength="50" style="width: 100%" class="" disabled /><br />
                        </div>
                        <div class="form-group">
                            <label>Tổng số ngày nghỉ</label>
                            <input type="text" id="detailTotalAbsent" maxlength="50" style="width: 100%" class="" disabled /><br />
                        </div>
                    </div>


                    <div class="col-sm-4">
                        <div class="space"></div>
                        <div class="form-group">
                            <label>Tổng tiền bảo hiểm</label>
                            <input type="text" id="detailTotalAssurance" maxlength="50" style="width: 100%" class="" disabled /><br />
                        </div>
                        <div class="form-group">
                            <label>Tổng tiền trợ cấp </label>
                            <input type="text" id="detailTotalBenefit" maxlength="50" style="width: 100%" class="" disabled /><br />
                        </div>
                        <div class="form-group">
                            <label>Tổng tiền thuế</label>
                            <input type="text" id="detailTotalTax" maxlength="50" style="width: 100%" class="" disabled /><br />
                        </div>
                        <div class="form-group">
                            <label>Tổng tiền thưởng </label>
                            <input type="text" id="detailTotalReward" maxlength="50" style="width: 100%" class="" disabled /><br />
                        </div>
                        <div class="form-group">
                            <label>Số ngày bị trừ lương</label>
                            <input type="text" id="detailTotalDatedet" maxlength="50" style="width: 100%" class="" disabled /><br />
                        </div>
                        <div class="form-group">
                            <label>Số tiền bị trừ lương</label>
                            <input type="text" id="detailTotalMoneydet" maxlength="50" style="width: 100%" class="" disabled /><br />
                        </div>


                    </div>
                    <div class="modal-footer no-margin-top">
                    </div>
                </form>
                <div class="modal-footer no-margin-top">

                    <button class="btn  btn-grey pull-left" type="button" data-dismiss="modal">
                        <i class="icon-remove"></i>
                        Đóng
                    </button>
                    <button class="btn btn-success" onclick="updateStaffSalary()" style="display: none" id="disablebutton">
                        <i class="icon-ok"></i>
                        Tính lại
                    </button>


                    <button class="btn btn-primary" onclick="enablebuttonSalary()" id="enablebutton">
                        <i class="icon-edit"></i>
                        Chỉnh sửa
                    </button>

                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
</div>

